<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div class="container p-4 col-3">
        <select class="form-select" name="mode" id="mode">
            <option value="light">Light</option>
            <option value="dark">Dark</option>
            <option value="minimal">minimal</option>
        </select>
    </div>

    <div class="card" style="width: 18rem;">
        <img src="OIG3.jpg" class="card-img-top" alt="..." width=100>
        <div class="card-body">
          <h5 class="card-title">Card title</h5>
          <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
          <a href="#" class="btn btn-primary">Go somewhere</a>
        </div>
      </div>

</body>
<script>
    const useBootstrap = () => {
        let link = document.createElement('link');
        link.classList.add("boots");
        link.href = "https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css";
        link.rel = "stylesheet";
        link.integrity = "sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH";
        link.crossOrigin = "anonymous";
        document.head.appendChild(link);

        let script = document.createElement('script');
        script.classList.add("boots");
        script.src = "https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js";
        script.integrity = "sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz";
        script.crossOrigin = "anonymous";
        document.head.appendChild(script);
    }
    const removeBootstrap = () => {
        document.querySelectorAll(".boots").forEach(link => link.remove());
    }
    const removeMode = () => {
        if (document.querySelector(".modeSelected")){
        document.querySelector(".modeSelected").remove();
        }
        // if (document.querySelectorAll(".modeSelected")){
        // document.querySelectorAll(".modeSelected").forEach(style=> style.remove());
        // }
    }

    const useLight = () => {
        removeMode();
        let link = document.createElement("link");
        link.href = "light.css";
        link.rel = "stylesheet";
        link.classList.add("modeSelected");
        document.head.appendChild(link);
    }
    const useDark = () => {
        removeMode();
        let link = document.createElement("link");
        link.href = "dark.css";
        link.rel = "stylesheet";
        link.classList.add("modeSelected");
        document.head.appendChild(link);
    }
    const selectMode = (event) =>{
        let modo = event.target.value;
        switch (modo) {
            case "light": {
                removeBootstrap();
                useBootstrap();
                useLight();
                break;
            }
            case "dark": {
                removeBootstrap();
                useBootstrap();
                useDark();
                break;
            }
            case "minimal": {                
                removeBootstrap();
                break;
            }
        }
    }

    document.querySelector("#mode").addEventListener("change", selectMode);
    useBootstrap();
    // removeBootstrap();
</script>

</html>