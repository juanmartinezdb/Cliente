<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="estilo.css">
</head>

<body>
    <label for="idioma">Select:</label>
    <select>
        <option value="es">Español</option>
        <option value="en">English</option>
        <option value="de">Deutsch</option>
        <option value="fr">Français</option>
        <option value="it">Italiano</option>
        <option value="ca">Català</option>
        <option value="ga">Galego</option>
        <option value="eu">Euskara</option>
      </select>
      <button>Crear calendario</button>


    <section class="calendario">

    </section>
</body>
<script>
let seleccionarIdioma = (idioma = "es") =>{
    idioma = document.querySelector("select").value;
    console.log(idioma);
    let cargadorIdioma = document.createElement("script");
    cargadorIdioma.src = idioma+".js";
    document.head.appendChild(cargadorIdioma);

}
document.querySelector("Button").addEventListener("click", seleccionarIdioma);

seleccionarIdioma.onload = function
    // let hoy = new Date();
    // let fin = new Date("2025-4-11");
    // let cont = 0;
    // let contaCelda = 0;

    // let tablaLectivos = () => {
    //     let calendario = document.querySelector(".calendario");
    //     let test = new Date(hoy.getFullYear(), hoy.getMonth(), 1); //para empezar cada mes en dia 1
    //     while (test <= fin) {

    //         //creamos un elemento, le asociamos el contenido, y appendChild para que se grabe en calendario.
    //         let cabeceraMes = document.createElement('h2');
    //         cabeceraMes.textContent = mes[test.getMonth()]; //en W3schools usan innerText en vez de textContent:
    //         // The innerHTML property returns:
    //         // The text content of the element, including all spacing and inner HTML tags.
    //         // The innerText property returns:
    //         // Just the text content of the element and all its children, without CSS hidden text spacing and tags, except <script> and <style> elements.
    //         // The textContent property returns:
    //         // The text content of the element and all descendaces, with spacing and CSS hidden text, but without tags..
    //         calendario.appendChild(cabeceraMes);

    //         //Cada mes, una tabla:
    //         //declaro la tabla y la cabecera;
    //         let tabla = document.createElement('table');
    //         let cabeza = document.createElement('thead');
    //         let trCabeza = document.createElement('tr');


    //         //al tr de cabeza le metemos cada dia de la semana.
    //         for (let i = 0; i < 7; i++) {
    //             let th = document.createElement('th');
    //             th.textContent = diaSemana[i + 1];
    //             if (i == 6) {
    //                 th.textContent = diaSemana[0];
    //             }
    //             trCabeza.appendChild(th);
    //         }
    //         cabeza.appendChild(trCabeza); //como una muñeca rusa, vamos creando y guardando
    //         tabla.appendChild(cabeza); // Agregamos la cabecera a la tabla

    //         let cuerpo = document.createElement('tbody');
    //         let tr = document.createElement('tr');
    //         contaCelda = 0; // Reiniciamos el contador de celdas al iniciar una nueva semana(mes aqui)

    //         //calculamos los huecos del principio de mes sin nada
    //         let diaSem1 = test.getDay();
    //         let huecos = (diaSem1) ? diaSem1 - 1 : 6; //si es domingo va al final,
    //         // si no como el lunes es 1 los que sobren se meten de huecos vacios
    //         for (let i = 0; i < huecos; i++) {
    //             let td = document.createElement('td');
    //             tr.appendChild(td);
    //             contaCelda++;
    //         }
    //         //repasar apuntes HOLA MUNDO de ultimate javascript, suma de dias y dias negativos dia 0.
    //         let numDiasMes = new Date(test.getFullYear(), test.getMonth() + 1, 0).getDate();

    //         for (let dia = 1; dia <= numDiasMes; dia++) {
    //             let fechaDia = new Date(test.getFullYear(), test.getMonth(), dia);
    //             //contamos las celdas y al llegar a 7 nuevo tr para cambiar de semana.
    //             if (contaCelda == 7) {
    //                 cuerpo.appendChild(tr);
    //                 tr = document.createElement('tr');
    //                 contaCelda = 0; // Reiniciamos el contador al iniciar una nueva fila
    //             }
    //             let td = document.createElement('td');
    //             td.textContent = dia + '\n' + diaSemana[fechaDia.getDay()];

    //             //marcamos segun el dia (tenia que haber hecho el if al reves, pero bueno)
    //             if (fechaDia >= hoy && fechaDia <= fin) {
    //                 //lo del for he intentado hacerlo con metodos del array pero no lo saco, al final no
    //                 //quedo de otra que un for y que recorra cada vez el array de los festivos, pero no me gusta. 
    //                 let diaCadena = fechaDia.toDateString();
    //                 let esFestivo = false;
    //                 for (festivo of festivosCadena) {
    //                     if (festivo === diaCadena) {
    //                         esFestivo = true;
    //                         console.log(diaCadena);
    //                         console.log(esFestivo);
    //                     }
    //                 }
    //                 if (esFestivo) {
    //                     td.classList.add('festivo');
    //                 } else if (fechaDia.getDay() == 0 || fechaDia.getDay() == 6) {
    //                     td.classList.add('finde');
    //                 } else {
    //                     td.classList.add('lectivo');
    //                     cont++;
    //                 }
    //             } else {
    //                 td.classList.add('out');
    //             }
    //             tr.appendChild(td);
    //             contaCelda++;
    //         }
    //         //rellenar los huecos vacios para que no se descuadre al final
    //         while (contaCelda < 7 && contaCelda) {
    //             let td = document.createElement('td');
    //             tr.appendChild(td);
    //             contaCelda++;
    //         }
    //         //metemos fila y la tabla en el contenedor con los meses antes de empezar el siguiente mes
    //         cuerpo.appendChild(tr);
    //         tabla.appendChild(cuerpo);
    //         calendario.appendChild(tabla); // Añadimos la tabla al calendario
    //         test.setMonth(test.getMonth() + 1); //mes siguiente
    //         // test.setDate(1); // iniciamos mes en 1 pero ni falta porque ya lo hacemos en el bucle
    //     }
    //     document.querySelector('.restantes').textContent = cont;
    // }
    // tablaLectivos();
</script>

</html>